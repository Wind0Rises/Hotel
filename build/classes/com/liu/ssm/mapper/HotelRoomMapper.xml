<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
 	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	<mapper namespace="com.liu.ssm.mapper.HotelRoomMapper">
		<insert id="addRoom" parameterType="hotelRoom">
			insert into hotel_room(roomNO,level,original_price,now_price,status,description,spare)
			value(#{roomNO},#{level},#{original_price},#{now_price},#{status},#{description},#{spare})
		</insert>
		<select id="getRoomById" parameterType="int" resultType="hotelRoom">
			select * from hotel_room where id = #{id}
		</select>
		<select id="getRoomPage" parameterType="Map" resultType="hotelRoom">
			select * from hotel_room limit #{startNo},#{pageSize}
		</select>
		<select id="getRoomByRoomNo" parameterType="string" resultType="hotelRoom">
			select * from hotel_room where id = #{roomNo}
		</select>
		<select id="totalNumber" resultType="int">
			select count(id) from hotel_room
		</select>
		<select id="getRoomByRoomNOAndStauts" parameterType="Map" resultType="hotelRoom">
			select * from hotel_room where 1 = 1
			<if test="roomNo != null " >
				<if test="roomNo != '' ">
					and roomNo = #{roomNo}
				</if>
			</if>
			<if test="status != null ">
				<if test="status != '' ">
					and status = #{status}
				</if>
			</if>
			limit ${startNo},${pageSize}
		</select>
		
		
	</mapper>